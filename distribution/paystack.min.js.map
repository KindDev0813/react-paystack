{"version":3,"sources":["../src/PayStack.js"],"names":[],"mappings":"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","file":"paystack.min.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass PayStack extends Component {\n  constructor(props) {\n    super(props);\n    this.payWithPaystack = this.payWithPaystack.bind(this);\n    this.state = {\n      text: this.props.text || \"Make Payment\",\n      class: this.props.class || this.props.className || \"\",\n      metadata: this.props.metadata || {},\n      currency: this.props.currency || \"NGN\",\n      plan: this.props.plan || \"\",\n      quantity: this.props.quantity || \"\",\n      subaccount: this.props.subaccount || \"\",\n      transaction_charge: this.props.transaction_charge || 0,\n      bearer: this.props.bearer || \"\",\n      disabled: this.props.disabled || false\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.embed) {\n      this.payWithPaystack();\n    }\n  }\n\n  payWithPaystack(e) {\n    e.preventDefault();\n    let paystackOptions = {\n      key: this.props.paystackkey,\n      email: this.props.email,\n      amount: this.props.amount,\n      ref: this.props.reference,\n      metadata: this.state.metadata,\n      callback: response => {\n        this.props.callback(response);\n      },\n      onClose: () => {\n        this.props.close();\n      },\n      currency: this.state.currency,\n      plan: this.state.plan,\n      quantity: this.state.quantity,\n      subaccount: this.state.subaccount,\n      transaction_charge: this.state.transaction_charge,\n      bearer: this.state.bearer\n    };\n    if (this.props.embed) {\n      paystackOptions.container = \"paystackEmbedContainer\";\n    }\n    const handler = window.PaystackPop.setup(paystackOptions);\n    if (!this.props.embed) {\n      handler.openIframe();\n    }\n  }\n\n  render() {\n    return this.props.embed ? (\n      <div id=\"paystackEmbedContainer\" className={this.state.class} />\n    ) : (\n      <span>\n        <button\n          type=\"button\"\n          className={this.state.class}\n          onClick={this.payWithPaystack}\n          disabled={this.state.disabled}\n        >\n          {this.state.text}\n        </button>\n      </span>\n    );\n  }\n}\n\nPayStack.propTypes = {\n  embed: PropTypes.bool,\n  text: PropTypes.string,\n  class: PropTypes.string,\n  metadata: PropTypes.object,\n  currency: PropTypes.string,\n  plan: PropTypes.string,\n  quantity: PropTypes.string,\n  subaccount: PropTypes.string,\n  transaction_charge: PropTypes.number,\n  bearer: PropTypes.string,\n  reference: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  amount: PropTypes.number.isRequired, //in kobo\n  paystackkey: PropTypes.string.isRequired,\n  callback: PropTypes.func.isRequired,\n  close: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};\n\nexport default PayStack;\n"]}